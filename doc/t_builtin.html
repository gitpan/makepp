<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Do I need a makefile?</title>
  </head>

  <body>
    <h1>Do I need a makefile?</h1>

    <p>If your program is relatively simple and doesn't require anything
    particularly special, <i>makepp</i> may already know how to build it
    without your explicitly giving instructions.  For example, suppose
    you have a program in a single source file, called
    <code>test.c</code>.  You can just type
    <code>makepp&nbsp;test</code> and your program will build like
    this:</p>

<pre>
% makepp test
makepp: Entering directory `/somewhere/or/other'
gcc -g -Wall -c test.c -o test.o
gcc -g -Wall test.o     -o test
Warning: on unix, to run a program called 'test', you must type
   ./test
rather than just 'test'.
</pre>

    <p>These are the basic commands needed to compile a program on unix.
    If these commands don't make any sense to you, that's ok--you can
    just rely on <i>makepp</i>'s builtin rules, or you can see the <a
    href="t_unix_compilation.html">primer on unix compilation
    commands</a> on the next page.</p>

    <p><i>Makepp</i> contains builtin rules for C, C++, and Fortran.
      Java support will probably come as soon as I learn Java.</p>

    <p><i>Makepp</i> can sometimes figure out how to compile programs
    that are contained in more than one source file, or programs that
    must be linked with various system libraries.  It does this by
    guessing which source files and libraries you need based on the
    files that you include.  The actual algorithm is too complicated to
    discuss here in a tutorial (but see the section on <a
    href="builtin.html">builtin rules</a> in the reference manual); you
    can try it, and if it doesn't work automatically for you, you need
    to write your own makefile.</p>
      
    <p>By default, for C and C++, <i>makepp</i> compiles the program
    with debug information and without optimization.  If you want to
    turn on optimization so that your program runs faster, change the
    command line to:</p>

<pre>
makepp CFLAGS=-O2 test
</pre>

    <p>If you're compiling C++ instead of C, use
    <code>CXXFLAGS=-O2</code> instead of <code>CFLAGS=-O2</code>.  For a
    complete list of other options you can configure, see the <a
    href="builtin.html">reference manual</a>.</p>

    <p><i>Makepp</i>'s builtin rules are somewhat more powerful than the
    standard unix make, but if you write programs of any complexity,
    it's likely that you'll need a makefile eventually to tell
    <i>makepp</i>q what to do.  The <a
    href="t_unix_compilation.html">next page</a> explains simply what
    all those cryptic unix compilation commands actually do, and how to
    write them; following that, I explain <a href="t_simplest.html">how
    you tell <i>makepp</i> to use these commands</a>.</p>

    <hr>
    <a href="t_index.html">Tutorial index</a>
    |
    <a href="t_unix_compilation.html">Next (compile commands on unix)</a>
    |
    <a href="t_whatsin.html">Previous (what's in a makefile)</a>
    <br>
<!-- Created: Wed Dec 27 10:39:45 PST 2000 -->
<!-- hhmts start -->
Last modified: Wed Dec 27 13:10:04 PST 2000
<!-- hhmts end -->
  </body>
</html>
